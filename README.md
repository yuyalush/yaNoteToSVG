# yaNoteToSVG
yaNoteをSVG形式でダウンロードするためのEdge機能拡張


### はじめに

この機能拡張はEdgeでの動作を前提に作成されています。
たぶん、Chromeでも動くと思いますが作者は未検証です。

この機能拡張は [yaNote](https://co-meeting.github.io/yaNote/) に触発されて作ったものです。
本家の開発に対するスタンスを尊重し、あえてブラウザの機能拡張を使い、私が欲しい機能を追加する方法をとりました。
また、開発にあたり私は機能拡張をこれまで作ったことがないのに加え、昔からJavascriptを書くのが苦手なのでCopilotを最大限に使って指示だけで開発をすることを前提として始めました。
・・・結果的には開発自体は1時間以下で終わってしまいました。
もし、この機能が使えそうでしたらご自由にお使いください。ただし、この機能拡張は機能拡張のマーケットプレイスに出す気がないため、多少セットアップが必要です。
また、自己責任のもとでお使いください。（何かあればIssueに書いていただけると助かります）

### セットアップ

yaNoteToSVGフォルダに全ての必要なファイルが入っています。
また、作者はWindows/Edge利用者のため、以下その前提で書きます。

1. edge://extensions/ をブラウザで開き、左メニューにある開発者モードをOnにする
2. 画面右ペイン上部付近にある、展開して読み込みというメニューをクリック
3. フォルダ選択画面になるので、このreadmeが含まれるフォルダを選択してください

以上で、このフォルダ内にあるmanifestが読み込まれ、機能拡張が使えるようになります。「他のソースから」にyaNote to SVG Downloaderが表示されると思います。


### 使い方

[yaNote](https://co-meeting.github.io/yaNote/) で好きにメモをとりましょう。
次に、拡張機能から「yaNote to SVG Downloader」を選んでください。
画面に「現在の画面をSVGで保存」と出ますので、クリックするとpage.svgというファイルがダウンロードされます。
試したところ、EdgeではSVGファイルが開けましたが、他のSVGファイルをエディットできる仕組みでは正常に表示されないことが多かったです。


### どして作ったの？

ざっと書いた後にパワポとかに画像として貼りたいのですが、都度スクショを取るのよりも一度SVGにしておいて
後から拡大縮小をしつつ、きれいな画像でスクショを撮れるようにしたかったため。


### 使用しているライブラリについて

dom-to-image.min.jsは https://github.com/tsayen/dom-to-image のdistからダウンロードして入れてあります。
dom-to-imageのAuthorsはAnatolii Saienko, Paul Bakaus (original idea)であり、MITライセンスが示されています。

詳しくは https://github.com/tsayen/dom-to-image をご覧ください。


### この機能拡張の制作過程

私はMicrosoft365の個人向け有償ライセンスを持っているため、個人向けのMicrosoft Copilotを使いました。
現在、個人向けCopilotにはThink Deepという機能があり、o1がLLMとして選択することができます。
これを使い「Edgeの機能拡張を作りたいです。見ているサイト全体をSVG形式でダウンロードできるようにしたい。」と打ち込んでソースを生成させました。

Copilotからのメッセージに従い必要ファイルをVSCodeを使って作成。CopilotからのメッセージでDOMのbodyタグ以下を出力するようになっているとの
ことだったので、ブラウザの開発ツールを使いDOMの構造を調べてみました。調べたところ、yaNoteではdivタグのidがcanvasとなっている部分が
実際に書かれたものが配置される場所だというのがわかったので、VSCodeのGithub CopilotのEditsを使ってDOMの選択部分を変更するように指示し
ソースの改良を実施しました。

yaNote制作者の矢野さんにブラウザ機能拡張を作った旨を伝えたところ、出力されるファイル名をyaNoteの保存機能で使っているロジックと揃えてみては？とのアドバイスをもらえ、またyaNoteでの該当部分のソースを示してくれたので、Github Copilotに矢野さんから受け取ったソースを参考にして、ファイル名の生成部分を調整してと指示しました。

一部、エラーが起きたのですが、機能拡張のページでエラーログが見られるのでスクショを撮ってGithub Copilotに画像を送ってソースの修正を指示した
ところちゃんと解決できました。

以上が、現在のところまでの作業となります。機能拡張のセットアップ方法もMicrosoft Copilotに確認し作業内容をメッセージ通り実施したので、
全工程で特につまるところは無かったです。

### 関連リンク

[yaNote](https://co-meeting.github.io/yaNote/)

[じぶん専用に最適化されたノートアプリを生成AIだけで非プログラマが作れる時代](https://note.com/yanotaka/n/n1b6c8c8b31b8)

[コピペテック](https://note.com/copipetech)

[株式会社co-meeting](https://www.co-meeting.co.jp/)

[「Vibe Coding」って何？Y Combinatorが語る、AIで変わるコーディングの未来](https://note.com/ssossan/n/n11d59189ec36)

### ライセンス
MIT
